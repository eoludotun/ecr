pipeline {

    agent any

    stages {

        stage('Stage 1') {
            steps {
                script {
                    sh 'id'
                    sh 'df -hm'
                    sh 'ls -la'
                    sh 'docker --version'
                    sh 'docker images'
                    sh 'docker container list -a'
                    sh 'cat /etc/os-release'
                    sh 'uname -r'
                }
            }
        }

        stage('Stage 2') {
            steps {
                script {
                    docker.build('test-image', '-f ci/Dockerfile .')
                }
            }
        }

    }

}